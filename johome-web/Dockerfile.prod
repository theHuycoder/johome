# path: ./Dockerfile
FROM node:16-alpine AS runner
RUN apk add --no-cache libc6-compat

WORKDIR /app

COPY package*.json yarn.lock ./

RUN yarn install --frozen-lockfile

EXPOSE 3000

COPY . .

ENV NODE_ENV production
RUN yarn build


CMD ["yarn", "start"]